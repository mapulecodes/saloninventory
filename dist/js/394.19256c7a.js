"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[394],{5394:function(e,t,d){d.r(t),d.d(t,{default:function(){return I}});var u=d(6768),o=d(4232),c=d(5130);const s={class:"admin-container"},l={class:"dropdown"},r=["value"],a={class:"dropdown"},n=["value"],i={class:"products-table"},P=["onClick"];function m(e,t,d,m,k,h){return(0,u.uX)(),(0,u.CE)("div",s,[(0,u.Lk)("div",l,[t[4]||(t[4]=(0,u.Lk)("label",{for:"customer-select"},"Customer:",-1)),(0,u.bo)((0,u.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>k.selectedCustomer=e),id:"customer-select"},[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(e.allCustomers,(e=>((0,u.uX)(),(0,u.CE)("option",{key:e.ID,value:e.ID},(0,o.v_)(e.CustomerName),9,r)))),128))],512),[[c.u1,k.selectedCustomer]])]),(0,u.Lk)("div",a,[t[5]||(t[5]=(0,u.Lk)("label",{for:"product-select"},"Select Product:",-1)),(0,u.bo)((0,u.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>k.selectedProduct=e),id:"product-select"},[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(k.products,(e=>((0,u.uX)(),(0,u.CE)("option",{key:e.ID,value:e},(0,o.v_)(e.ProductName)+" - $"+(0,o.v_)(e.Price.toFixed(2)),9,n)))),128))],512),[[c.u1,k.selectedProduct]])]),(0,u.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>h.addSelectedProduct&&h.addSelectedProduct(...e)),class:"btn"},"Add Product"),(0,u.Lk)("table",i,[t[6]||(t[6]=(0,u.Lk)("thead",null,[(0,u.Lk)("tr",null,[(0,u.Lk)("th",null,"Product Name"),(0,u.Lk)("th",null,"Quantity"),(0,u.Lk)("th",null,"Price"),(0,u.Lk)("th",null,"Actions")])],-1)),(0,u.Lk)("tbody",null,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(k.addedProducts,(e=>((0,u.uX)(),(0,u.CE)("tr",{key:e.ID},[(0,u.Lk)("td",null,(0,o.v_)(e.ProductName),1),(0,u.Lk)("td",null,(0,o.v_)(e.Quantity),1),(0,u.Lk)("td",null,"$"+(0,o.v_)(e.Price.toFixed(2)),1),(0,u.Lk)("td",null,[(0,u.Lk)("button",{onClick:t=>h.deleteProduct(e.ID),class:"btn-delete"},"Delete",8,P)])])))),128))])]),(0,u.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>h.generateInvoice&&h.generateInvoice(...e)),class:"btn"},"Download Invoice")])}d(4114);var k=d(782),h=d(1749),p=(d(5839),d(4084)),C={data(){return{selectedProduct:null,selectedCustomer:null,addedProducts:[],products:[{ID:1,ProductName:"Conditioner",Quantity:1,Price:14.99},{ID:2,ProductName:"Hair Serum",Quantity:1,Price:19.99},{ID:3,ProductName:"Hair Spray",Quantity:1,Price:9.99},{ID:4,ProductName:"Hair Dye",Quantity:1,Price:15.49},{ID:5,ProductName:"Nail Polish",Quantity:1,Price:7.99}]}},computed:{...(0,k.L8)(["allCustomers"])},methods:{...(0,k.i0)(["fetchCustomers"]),addSelectedProduct(){if(this.selectedProduct){const e=this.addedProducts.find((e=>e.ID===this.selectedProduct.ID));e?(e.Quantity+=1,p.oR.success("Product quantity updated!")):(this.addedProducts.push({...this.selectedProduct,Quantity:1}),p.oR.success("Product added successfully!")),this.selectedProduct=null}else p.oR.error("Please select a product.")},deleteProduct(e){this.addedProducts=this.addedProducts.filter((t=>t.ID!==e)),p.oR.success("Product deleted successfully!")},generateInvoice(){if(!this.selectedCustomer||0===this.addedProducts.length)return void p.oR.error("Please select a customer and add products.");const e=new h["default"],t=this.allCustomers.find((e=>e.ID===this.selectedCustomer));e.text("Invoice",14,16),e.text(`Customer: ${t.CustomerName}`,14,30);const d=this.addedProducts.map((e=>[e.ProductName,e.Quantity,`$${e.Price.toFixed(2)}`,`$${(e.Price*e.Quantity).toFixed(2)}`]));e.autoTable({startY:40,head:[["Product Name","Quantity","Price","Total"]],body:d,margin:{top:20}});const u=d.reduce(((e,t)=>e+parseFloat(t[3].substring(1))),0);e.text(`Total: $${u.toFixed(2)}`,14,e.autoTable.previous.finalY+10),e.save("invoice.pdf")}},mounted(){this.fetchCustomers()}},v=d(1241);const f=(0,v.A)(C,[["render",m],["__scopeId","data-v-117dcdf3"]]);var I=f}}]);
//# sourceMappingURL=394.19256c7a.js.map